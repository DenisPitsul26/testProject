
<article class="card-body mx-auto" style="max-width: 400px;">
  <h4 class="card-title mt-3 text-center">Create an Account</h4>
  <p class="text-center">Get started with your free account</p>
<!--  <p>-->
<!--    <a href="" class="btn btn-block btn-twitter"> <i class="fab fa-twitter"></i>   Login via Twitter</a>-->
<!--    <a href="" class="btn btn-block btn-facebook"> <i class="fab fa-facebook-f"></i>   Login via facebook</a>-->
<!--  </p>-->
<!--  <p class="divider-text">-->
<!--    <span class="bg-light">OR</span>-->
<!--  </p>-->
  <hr>
  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    <div class="form-group input-group" [ngClass]="{'has-error': form.get('name').invalid && form.get('name').touched}">
      <div class="input-group-prepend">
        <span class="input-group-text"> <i class="fa fa-user"></i> </span>
      </div>
      <input formControlName="name" class="form-control" placeholder="Full name" type="text">
      <span class="form-help-text" *ngIf="form.get('name').invalid && form.get('name').touched">
        Name can not be empty.
      </span>
    </div> <!-- form-group// -->
    <div class="form-group input-group" [ngClass]="{'has-error': form.get('email').invalid && form.get('email').touched}">
      <div class="input-group-prepend">
        <span class="input-group-text"> <i class="fa fa-envelope"></i> </span>
      </div>
      <input class="form-control" placeholder="Email address" type="email" formControlName="email">
      <span class="form-help-text" *ngIf="form.get('email').invalid && form.get('email').touched">
        <span *ngIf="form.get('email')['errors']['required']"><p>Email can not be empty. </p></span>
        <span *ngIf="form.get('email')['errors']['email']">Please enter a valid email. </span>
        <span *ngIf="form.get('email')['errors']['forbiddenEmail']">This Email is already taken. </span>
      </span>
    </div> <!-- form-group// -->
    <div class="form-group input-group">
      <div class="input-group-prepend">
        <span class="input-group-text"> <i class="fa fa-building"></i> </span>
      </div>
      <select required [ngModel]="1" formControlName="numberOfGroup" id="numberOfGroup" class="form-control"
              [ngClass]="{'has-error': form.get('numberOfGroup').invalid && form.get('numberOfGroup').touched}">
        <option *ngFor="let g of groupsFake" [value]="g.id">
          {{g.group}}
        </option>
      </select>
      <span class="form-help-text" *ngIf="form.get('numberOfGroup').invalid && form.get('numberOfGroup').touched">
        Group can not be empty.
      </span>
    </div> <!-- form-group end.// -->
    <div formGroupName="passwordGroup">
      <div class="form-group input-group">
        <div class="input-group-prepend">
          <span class="input-group-text"> <i class="fa fa-lock"></i> </span>
        </div>
        <input class="form-control" formControlName="password" placeholder="Create password" type="password"
               [ngClass]="{'has-error': form.get('passwordGroup.password').invalid && form.get('passwordGroup.password').touched}">
        <span class="form-help-text" *ngIf="form.get('passwordGroup.password').invalid && form.get('passwordGroup.password').touched">
        <span *ngIf="form.get('passwordGroup.password')['errors']['required']">Password can not be empty. </span>
        <span *ngIf="form.get('passwordGroup.password')['errors']['minlength'] && form.get('passwordGroup.password')['errors']['minlength']['requiredLength']">
          The password should contain more than
          {{ form.get('passwordGroup.password')['errors']['minlength']['requiredLength'] }}
          characters. Now there are {{ form.get('passwordGroup.password')['errors']['minlength']['actualLength'] }}. </span>
        </span>
      </div> <!-- form-group// -->
      <div class="form-group input-group">
        <div class="input-group-prepend">
          <span class="input-group-text"> <i class="fa fa-lock"></i> </span>
        </div>
        <input class="form-control" formControlName="repeatPassword" placeholder="Repeat password" type="password"
               [ngClass]="{'has-error': form.get('passwordGroup.repeatPassword').invalid && form.get('passwordGroup.repeatPassword').touched}">
        <span class="form-help-text" *ngIf="form.get('passwordGroup.repeatPassword').invalid && form.get('passwordGroup.repeatPassword').touched">
          <span *ngIf="form.get('passwordGroup.repeatPassword')['errors']['required']">Password can not be empty. </span>
          <span *ngIf="form.get('passwordGroup.repeatPassword')['errors']['minlength']
           && form.get('passwordGroup.repeatPassword')['errors']['minlength']['requiredLength']">
            Password should contain more than
            {{ form.get('passwordGroup.repeatPassword')['errors']['minlength']['requiredLength'] }}
            characters. Now there are {{ form.get('passwordGroup.repeatPassword')['errors']['minlength']['actualLength'] }}. </span>
        </span>
      </div> <!-- form-group// -->
      <span class="form-help-text" *ngIf="errorMessage!==''">
          Passwords do not match.
      </span>
    </div>
    <div class="form-group">
      <button [disabled]="form.invalid" type="submit" class="btn btn-default btn-block"> Create Account  </button>
    </div> <!-- form-group// -->
    <p class="text-center">Have an account? <a [routerLink]="'/login'">Log In</a> </p>
  </form>
</article>
